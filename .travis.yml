language: haskell

dist: bionic
addons:
  apt:
    sources:
      - ppa:hvr/ghc
    packages:
      - ghc

git:
  depth: 5

branches:
  only:
  - master
  - travis_stuff



cabal: "2.4"

cache:
  directories:
  - "$HOME/.cabal/store"

matrix:
  include:
  # - ghc: 8.2.2
  # - ghc: 8.4.4
  - ghc: 8.6.5

install:
  - ghc --version
  - cabal --version
  - cabal new-update
  - cabal new-build --enable-tests --enable-benchmarks

script:
  - cabal new-test --enable-tests
  - cabal check
  - cabal outdated

